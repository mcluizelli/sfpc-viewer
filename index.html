<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>jQuery UI Tabs - Default functionality</title>
  <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
  
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="D3-tip.js" charset="utf-8"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" charset="utf-8"></script>

  <script>
    $(function() {
      $( "#tabs" ).tabs();
    });
  </script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="style.css">
</head>
 
<body>

  <div id="col1" class="col-md-4">
    
    <div id="tabs">
      <ul class="nav nav-tabs" role="tablist">
        <li><a href="#tabs-2">SFC Requests</a></li>
        <li><a href="#tabs-3">Physical Topology</a></li>
        <li><a href="#tabs-4">Network Functions</a></li>
        <li><a href="#tabs-1">Parameters</a></li>
        <li><a href="#tabs-5">Filters</a></li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane" id="tabs-1">
            <div class="panel-body">
                    <div class="form-group">
                        <label for="topology">Topology size</label>
                        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Topology size">
                    </div>

                    <div class="form-group">
                        <label for="topology">Topology size</label>
                        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Topology size">
                    </div>

            </div>
        </div>
        
        <div class="tab-pane" id="tabs-2">
          <div class="row text-center">
            <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#largeModal">New request</button>
          </div>


          <div class="modal fade" id="largeModal" tabindex="-1" role="dialog" aria-labelledby="largeModal" aria-hidden="true">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title" id="myModalLabel">Large Modal</h4>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <input type="number" class="form-control input-sm" min="1" id="numNodes" placeholder="Nodes">
                    <input type="number" class="form-control input-sm " min="0" id="numLinks" placeholder="Links">
                  </div>
                  <button type="submit" class="btn btn-primary" onClick="addInputs()">Generate</button>
                  <button type="submit" class="btn btn-primary" onClick="addNode()">Add node</button>
                  <button type="submit" class="btn btn-primary" onClick="addLink()">Add link</button>
                  <hr>
                  <form role="form" class="form-inline">
                    <div id="nodesContainer" class="form-group"></div>
                    <hr>
                    <div id="linksContainer" class="form-group"></div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary">Save changes</button>
                </div>
              </div>
            </div>
          </div>

        </div>


        <div class="tab-pane" id="tabs-3">
          
            <div class="form-group">
              <input type="number" class="form-control input-sm" min="1" id="numNodes" placeholder="Nodes">
              <input type="number" class="form-control input-sm " min="0" id="numLinks" placeholder="Links">
            </div>
            <button type="submit" class="btn btn-primary" onClick="addInputs()">Generate</button>
          <form role="form" class="form-inline">
            <div id="nodesContainer" class="form-group"></div>
            <div id="linksContainer" class="form-group"></div>
          </form>
          <button type="submit" class="btn btn-primary" onClick="updateGraph()">Update Nodes</button>
        </div>

        <div class="tab-pane" id="tabs-4">

        </div>


        <div class="tab-pane" id="tabs-5">
          <label>.dat</label><input type='file' id='fileInputDat'>
          <label>.out</label><input type='file' id='fileInputOut'>
          <div id="filtersMenu"></div>
        </div>

      </div>
   </div>
      
   

  <ul class="pager">
      <li><a href="#">Previous</a></li>
      <li><a href="#">Next</a></li>
  </ul>
  <center>
  <button type="button" class="btn btn-primary" id="addNode" onClick="start()">Solve</button>
  </center>

  </div>

  <div id="col2" class="col-md-7">
      <div id="graph"></div>
  </div>  




  <script src="fileLoader.js"></script>
  <script src="filters.js"></script>
  <script src="tooltip.js"></script>
  <script src="d3graph.js"></script>

  <script type="text/javascript">
    function addNode() {
      var newId = $('#nodesContainer').children().length;
      var label = $("<label/>", {
        html: "Node " + newId
      });
      var input = $("<input/>", {
        name: "capacity",
        type: "text",
        class: "form-control input-sm",
        placeholder: "capacity"
      });
      var radioOption = $("<input/>", {
        type:"radio",
        name:"nodeType"+newId
      });
      var radio = $("<div/>").attr("class", "radio");
      radio.append(radioOption.html("opt1"));
      
      /*<div class="dropdown">
        <button id="dLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Dropdown trigger
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
          ...
        </ul>
      </div>*/


      var div = $("<div/>", {
        id: "node"+newId
      }).append(label)
        .append(input)
        .append(radio)
        .appendTo("#nodesContainer");
    }

    function addInputs() {
      var nodesContainer = document.getElementById("nodesContainer");
      var linksContainer = document.getElementById("linksContainer");
      var nodes = document.getElementById("numNodes").value;
      var links = document.getElementById("numLinks").value;
      // removing forms generated previously
      while (nodesContainer.hasChildNodes()) {
          nodesContainer.removeChild(nodesContainer.lastChild);
      }

      while (linksContainer.hasChildNodes()) {
          linksContainer.removeChild(linksContainer.lastChild);
      }

      for(i=0;i<nodes;i++) { 
        addNode();
      }
      
      for(i=0;i<links;i++) {
        var div = document.createElement("div");
        var input = document.createElement("input");
        div.id = "link"+i;
        input.type = "text";
        input.className = "form-control input-sm";
        var name = "source";
        //input.value = name;
        input.placeholder = name;
        input.name = name;
        div.appendChild(input);
        var input = document.createElement("input");
        input.type = "text";
        input.className = "form-control input-sm";
        name = "destiny";
        //input.value = name;
        input.placeholder = name;
        input.name = name;
        div.appendChild(input);
        var input = document.createElement("input");
        input.type = "text";
        input.className = "form-control input-sm";
        name = "capacity";
        //input.value = name;
        input.placeholder = name;
        input.name = name;
        div.appendChild(input);
        linksContainer.appendChild(div);
      }
      
    }
  </script>
  </body>
</html>